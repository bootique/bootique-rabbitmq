# Licensed to ObjectStyle LLC under one or more
# contributor license agreements. See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ObjectStyle LLC licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License. You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

language: java

sudo: required

services:
  - docker

jdk:
  - openjdk8
  - oraclejdk11
  - openjdk-ea

script:
  - mvn clean verify

jobs:
  include:
    - stage: deploy
      jdk: openjdk8
      script: mvn clean source:jar javadoc:javadoc deploy -DskipTests --settings travis_settings.xml
      if: branch IN (master, 1.0-STABLE) AND type IN (push) AND repo = bootique/bootique-rabbitmq

# travis encrypt -r bootique/bootique-rabbitmq "CI_DEPLOY_USERNAME='name'"
# travis encrypt -r bootique/bootique-rabbitmq "CI_DEPLOY_PASSWORD='password'"
env:
  global:
    - secure:  "rI+4uUlA+bRbUAxgJH0BteNYHcePqBYMwfVFlmk2cnozqjrV1OzBcTCPwGwJr/uO3z10FLfK0UvUA+XtU5zDnt3rJH8gHmM0XqzfueF9JS3fED3HuodlDtGO86VVDa9l5PgZNOX+bb5mm9QjsdjAFno6JpAoy+by+VbTvzkY81eR03hQBWjUQ8NA5y8AOwoyym0173GxxOEkYNwtJEAtRhund1syWrI5a5wWvKFr9heq8EoaxKBE/MbYWKRY72QhDHoNk9ll8QAhPXUlZ9oEg0rySc4xka89B5sH5EC6zU5/368M2cBoqobZaAuY8Kqhwh716J/3by+ZzkYofDhjmhTfD5ZI7U/YXzYPFdpPKIB3F8xHo/QbJhsX/jhllP8Q2nusUc7l8KnCywWJSP+ryCYy7AlRfrkkitCTPOYKNNNaliQzGq6+i7Ky5kYfvI+JyxPqEHU5wPtrzeQF1Hyfjqbef4tQImVzcAFv+BNbw+4UtedL4SNKbVdq1hKfu5RUeVelhul0I/P53m4hXgK5FU4ztZwDnNboZecPYxcYk5W7BGDLpuYNsC1DUkZp1nEryRhGHOVmRd+b0lWCjjUsCJ8Tclb3s6OHwRRXACDB9TZPrTn34MNTro8baFYyymW6VAd4qws1ttDNaf8NK/gV7t1AaOSlcBNPQ/7SJ9Q4qDg="
    - secure: "b/Lxqyom50phF7Wz4SzbEwP6Doa7MTVd9vPqZHmk1hNW5ZQZZtadVasJPeGcz7rjFRUrW29QtBgCiF8Qkjk+w8f0vuZMss5mjMq4lQmiX9qC1KoobcdocYClwHU9TtVK9KVaEBomL5z3Oee7OF1OTgsjSP+xc9euGOg9bH31zypoVbSdyLoSiSXz+eW9gs2TLuFlXRZOVteMNAOIzC1A0qpof6o8BTpM4m656oEbwn1QAMJWMKp4DGjgNIL6Grd+uRLWCFHno5mfv9w3tXU4pPtM2wlNZyEmPIlaXbBXh9JTLl5Wj6BA1+HaO9fNrcsGCkdFQFvP51N7JOU/bipMgX8jEUmMsMpRTKAIXCmkVavcmVk+gUVqGshgiKthfo7dI5j4td0F0XyxF/TZLDKAjs2W+HA1p+oJRrqXtSod+DQN7ElblWdEWK3SK9x2xwDNxTDlggkrNizBLOTCANdO6O4hvR/yleVPk4r4uIQ6eEwIQVOVVtIcmbzPWqQk62Vu0mFLwbswYiOg77FHwXyzxlomJrmiB7IH2s/5tv3Cbb8N60R4yxQClCZEnMW/rSe/Fsl8s8VkVAvcHOnNoCjr1sr2ZFV6aYP7NfdYf61d6DEMD5JUvQCWBGue9LInThG8VzcE6djbnAGryzO6BgEpMMKqIuQfpgKp/TJFmEwR6o4="
