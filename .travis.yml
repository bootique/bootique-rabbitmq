# Licensed to ObjectStyle LLC under one or more
# contributor license agreements. See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ObjectStyle LLC licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License. You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

language: java

sudo: required

services:
  - docker

jdk:
  - openjdk8
  - oraclejdk11
  - openjdk-ea

script:
  - mvn clean verify

jobs:
  include:
    - stage: deploy
      jdk: openjdk8
      script: mvn clean source:jar javadoc:javadoc deploy -DskipTests --settings travis_settings.xml
      if: branch IN (master, 1.0-STABLE) AND type IN (push) AND repo = bootique/bootique-rabbitmq

# travis encrypt -r bootique/bootique-rabbitmq "CI_DEPLOY_USERNAME='name'"
# travis encrypt -r bootique/bootique-rabbitmq "CI_DEPLOY_PASSWORD='password'"
env:
  global:
    - secure: "R+/Y3jyxM4zpRolRMuuBjIfurkJNURWIFj+iKNVxRtxWG+1wsjl+vVA1xOHB3HmR3kVAWIVF6ENaEPPFBMP1mMLRE0IDxi6Ec5kbdtf2CKq2SFdY8k0XLPymSGHk1t2ssvNScSDGDsHL+6ZWnr0upgXIJZmWYukxOATTglkSqZ15NMztxNtgfHOUvcsetE/w0kboJTsACDgodJrTSWAHeJZvMiSb8seqGvqGJlxmNAIbZNVeFsyH0T9mOG86lezsEPr//K/knUEIeMLC3tOhOOgflWy4ZkzJW37WKnNjnrMXtuRPJU5Wj4F5NTNAexIVa43L2zRjHsrE71XLeGYZ+gETTJ4PvmQB35ZBzrcyOrMnsG7pPH+W5AdNbu7SHIAeupp1iCGevpLyC/x64kT9Cc0y/8ymhTD3+XOkSGPoe5E6op28lMw++GoY2alRcCdf7fz173MG6xaZ1w3CRfbRGsW1Y7RIXb95DJoBXi8n6FnJWyP1f+5CHhtxE79YWSs+xKqY3ggIJlqnqaJ9I3AYSwnHi5Y0qFrIq0bZx1tSDJ1I13cb1nm8W8QTDIBo83oKo9UaCaJd2Oh6FNOaIAWCkSXitG0mWuBhIYpucdVoGaHd/Vv0cncJVc/rLhtquWKOuEZwa8ZAbevGg92xQJ0M+4MEbV4O+2OQybA+LekgPUs="
    - secure: "foRC9C7oVyb3rfyfykR8FmSSkiVJpJykZSY5NM7ByA/uPOrWsForY2Gyq+UW2kW80Dh7qG+6gKtQ9ttyYjTrVcLDddJ+DqmtVuGsn5/axx1150v80kHLwCYZQfz42QTT/7cwxVyr5z4Za3VYf6yv21xsXAzp52Wvue8LEPFNiF9D89A+xrDQoeTKhM9DZXoP6twAPCeRjT8I37duKnPSaVXf8gRWlm2THZ5LD5OLmLaoHbiU+Hso2HY0qHw82cgggPH32/oHiCp7m5hdfny6mhhBS70m1bXycPFvcKHBXqNNPhJ1IKiRtBA2tAc6D95SIr2rNHSDSTHzPqcKGfX2jkJjT1kLZLv/zzgVzrvSsXUWoa/d/Qgn2sjafMhNC7nAOXx6uTXx3ior6MMKNm/l04jDdPx7wa3Dvmw1CCHsASiGs2ZrGXMUkgqiT7P9dkSvo4G/9+dFPMcWkMWwND+mkaClFCppRjd/xp3HrHaW+htHkaPiOHLoAqnVPbJHV9Yriu59S89Mmhsdc5dLKN6tTZcrpsUuNofVkINCfs/7nqP3Cp7lWaaCvuO/+V/gkJP2jLNyBAlLjm5lHguaMjD63qhtMIMzt5lVo/BGe2TtpxNjfA/wL54Z15HkhgAfUxG778I8MZt9mW5PzVeRC+I9z3q83AGT6fK4bNK93IVF8LI="
