# Licensed to ObjectStyle LLC under one or more
# contributor license agreements. See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ObjectStyle LLC licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License. You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

language: java

sudo: required

services:
  - docker

jdk:
  - openjdk8
  - oraclejdk11
  - openjdk-ea

script:
  - mvn clean verify

jobs:
  include:
    - stage: deploy
      jdk: openjdk8
      script: mvn clean source:jar javadoc:javadoc deploy -DskipTests --settings travis_settings.xml
      if: branch IN (master, 1.0-STABLE) AND type IN (push) AND repo = bootique/bootique-rabbitmq

# travis encrypt -r bootique/bootique-rabbitmq "CI_DEPLOY_USERNAME='name'"
# travis encrypt -r bootique/bootique-rabbitmq "CI_DEPLOY_PASSWORD='password'"
env:
  global:
    - secure:  "rI+4uUlA+bRbUAxgJH0BteNYHcePqBYMwfVFlmk2cnozqjrV1OzBcTCPwGwJr/uO3z10FLfK0UvUA+XtU5zDnt3rJH8gHmM0XqzfueF9JS3fED3HuodlDtGO86VVDa9l5PgZNOX+bb5mm9QjsdjAFno6JpAoy+by+VbTvzkY81eR03hQBWjUQ8NA5y8AOwoyym0173GxxOEkYNwtJEAtRhund1syWrI5a5wWvKFr9heq8EoaxKBE/MbYWKRY72QhDHoNk9ll8QAhPXUlZ9oEg0rySc4xka89B5sH5EC6zU5/368M2cBoqobZaAuY8Kqhwh716J/3by+ZzkYofDhjmhTfD5ZI7U/YXzYPFdpPKIB3F8xHo/QbJhsX/jhllP8Q2nusUc7l8KnCywWJSP+ryCYy7AlRfrkkitCTPOYKNNNaliQzGq6+i7Ky5kYfvI+JyxPqEHU5wPtrzeQF1Hyfjqbef4tQImVzcAFv+BNbw+4UtedL4SNKbVdq1hKfu5RUeVelhul0I/P53m4hXgK5FU4ztZwDnNboZecPYxcYk5W7BGDLpuYNsC1DUkZp1nEryRhGHOVmRd+b0lWCjjUsCJ8Tclb3s6OHwRRXACDB9TZPrTn34MNTro8baFYyymW6VAd4qws1ttDNaf8NK/gV7t1AaOSlcBNPQ/7SJ9Q4qDg="
    - secure: "S67HCMbNlyuTdmdobXlNkcwEMBER4lSuplx6mFHfdnIfi7mEDbfaR2Ap4GdkfoCMI5H6WvmQuqwNmYjzqZPMeF8fYZLR+TPWPFSViWVhKyaWwlFxrGQL82pd62NQu70UEN7VRl+uYDvroJFimXvu8vbZjAwiKRo1IpcI3dXZIZv2dgvPDbiWGFJjecX/OtjWkuywK/UybPBgdpBI+HVRz7Xo2uaYGxkU51M4l6NY5kEtEJ2p5NH2MNtZgwegG2pWfP4U9ft1444m8Wm5TwoT1q1+4Cst7OcbMAsvlXA4WTY2ZBdS6MhP0vWLCNwnL3NF/c3KTIBkBpkmxNfsop7a10KijocWT/D6fyECxcooO3caINcskGY3P7jk22jv5PCEryANEIKoXrV4y1QAjnTml2n6xAeisOkuAjBrN+MJroqwBFy4i5nSZBhkN+e7rS8xd9r8KmN6zfYM8ShL6Y077OJTrBP12zQo/TA2ap3b94j6M7erpho+peea8qBVxjJKgaOO33K6rNRFr6sRTlVJwDizdk1kBxv+PHwFeZ47HbgoWunm5ycAicroZDAKBPV47pD6Mq+5Ww+R38bDK0e9zLeElK+d3XvQV5w5yi2vQTn7SOqsL9rt4QYysfxA51o8a431Jz+BuIbraAZrBGaVhkW6TBMZ25/WNxVO4Na70Cs="
